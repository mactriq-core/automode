---
title: Idempotent Requests
description: How to get started with Markdoc
---

## Idempotent Requests

The API supports idempotency for safely retrying requests without accidently performing the same operation twice. When creating or updating an object, use an idempotency key. Then, if a connection error occurs, you can safeky repeat the request without risk of creating a second object or performing the update twice.

To perform an idempotent request, provide an additional `Idempotency-Key: <key>` header to the request.

Automode's idempotency works by saving the resulting status code and body of the first request made for any given idempotency key, regardless of whether it succeeded or failed. Subsequent requests with the same key return the same result, including `500` errors.

An idempotency key is a unique value generated by the client which the server uses to recognize subsequent retries of the same request. How you create the unique keys is upto you, but we suggest using V4 UUIDs, or another random string with enough entropy to avoid collisions. Idempotency keys can be upto 255 characters long.

Keys are eligible to be removed from the system automatically after they are at least 24 hours old, and a new request is generated if a key is reused after the original has been pruned. The idempotency layer compares incoming parameters to those of the original request and errors unless they're same to prevent accidental misuse.

Results are only saved if an API endpoint started executing. If incoming parameters failed validation, or the request conflicted with another that was running concurrently, no idempotent result is saved because no API endpoint began execution. It is safe to retry these requests.

All `POST` requests accept idempotency keys. Sending idempotency keys in `GET` and `DELETE` requests has no effect and should be avoided, as these requests are idempotent by definition.
